(this["webpackJsonpmy-first-app"]=this["webpackJsonpmy-first-app"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(1),c=n.n(r),a=n(11),i=n.n(a),o=(n(29),n(12)),j=n(13),h=n(15),d=n(14),l=(n(30),n(8)),u=n(6),b=(n(31),n(19)),p=function(e){var t=e.id,n=c.a.useState(""),r=Object(l.a)(n,2),a=r[0],i=r[1],o=c.a.useState(""),j=Object(l.a)(o,2),h=j[0],d=j[1],b=c.a.useState(!0),p=Object(l.a)(b,2),O=p[0],m=p[1];return c.a.useEffect((function(){fetch("https://baskislaapi20201113123205.azurewebsites.net/api/person/".concat(t)).then((function(e){return e.json()})).then((function(e){i(e.firstName),d(e.gender),m(!1)}))}),[t]),Object(s.jsx)("div",{children:O?Object(s.jsx)("div",{children:"loading..."}):Object(s.jsx)(u.b,{to:"/persons/".concat(t),children:Object(s.jsx)("button",{type:"button",className:"button"+h,children:a})})})},O=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={gender:""},s}return Object(j.a)(n,[{key:"handleSubmit",value:function(e){console.log(e);e.target,this.props,this.gender;e.preventDefault();var t=new FormData(e.target);console.log(t),fetch("fakeurl:3000/api/person/",{method:"POST",body:t}).then((function(e){return console.log(e)})).catch((function(e){return alert("Error while creating new person. Details:"+e.message+"The data was: "+t)})),this.props.setOpen(!1)}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{onClick:function(){return e.props.setOpen(!0)},children:this.props.addFather?Object(s.jsx)("div",{children:"Add father"}):Object(s.jsx)("div",{children:"Add mother"})}),Object(s.jsxs)(b.a,{open:this.props.open,onClose:function(){return e.props.setOpen(!1)},children:[Object(s.jsxs)("h1",{children:["Add a ",this.props.id," of ",this.props.details.firstName]}),Object(s.jsxs)("form",{onSubmit:function(t){e.handleSubmit(t)},children:[Object(s.jsx)("input",{type:"text",id:"firstName",name:"firstName",placeholder:"Enter first name",required:!0}),Object(s.jsx)("input",{type:"text",id:"lastName",name:"lastName",placeholder:"Enter last name",required:!0}),Object(s.jsx)("button",{type:"submit",children:"Submit"})]})]})]})}}]),n}(c.a.Component),m=function(e){var t=e.match,n=c.a.useState({}),r=Object(l.a)(n,2),a=r[0],i=r[1],o=c.a.useState(!0),j=Object(l.a)(o,2),h=j[0],d=j[1],u=c.a.useState(!1),b=Object(l.a)(u,2),m=b[0],f=b[1],x=c.a.useState(!1),v=Object(l.a)(x,2),g=v[0],y=v[1];return c.a.useEffect((function(){d(!0),fetch("https://baskislaapi20201113123205.azurewebsites.net/api/person/".concat(t.params.id,"/details")).then((function(e){return e.json()})).then((function(e){i(e),d(!1)}))}),[t.params.id]),Object(s.jsx)(s.Fragment,{children:h||null==a.id?Object(s.jsx)("h1",{children:"Loading.."}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("h1",{children:["Person Details of ",a.firstName," ",a.lastName]}),Object(s.jsx)("h2",{children:"Parents "}),null!=a.father&&0!=a.father?Object(s.jsx)(p,{id:a.father}):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(O,{id:"father",details:a,open:m,setOpen:f,addFather:!0})}),null!=a.mother&&0!=a.mother?Object(s.jsx)(p,{id:a.mother}):Object(s.jsx)(O,{id:"mother",details:a,open:g,setOpen:y,addFather:!1}),0!=a.spouse?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h2",{children:"Spouse"}),Object(s.jsx)(p,{id:a.spouse})]}):Object(s.jsx)(s.Fragment,{}),Object(s.jsx)("h2",{children:"Siblings"}),a.siblings.map((function(e){return Object(s.jsx)(p,{id:e})})),Object(s.jsx)("h2",{children:"Children"}),a.children.map((function(e){return Object(s.jsx)(p,{id:e})}))]})})},f=function(e){var t=e.persons,n=c.a.useState({searchTerm:""}),r=Object(l.a)(n,2),a=r[0],i=r[1];function o(){return void 0==a.searchTerm?t:t.filter((function(e){return(e.firstName?e.firstName:"").toLowerCase().includes(a.searchTerm.toLowerCase())||(e.lastName?e.lastName:"").toLowerCase().includes(a.searchTerm.toLowerCase())}))}return Object(s.jsxs)("div",{children:[Object(s.jsx)("center",{children:Object(s.jsx)("h1",{children:"Person List"})}),Object(s.jsx)("input",{type:"text",value:a.searchTerm,onChange:function(e){i({searchTerm:e.target.value})},placeholder:"Enter a name here"}),Object(s.jsxs)(s.Fragment,{children:[""==a.searchTerm?Object(s.jsx)("div",{}):Object(s.jsxs)("div",{children:["There are ",o().length," people in the search results"]}),o().map((function(e){return Object(s.jsx)("div",{children:Object(s.jsx)(u.b,{to:"/persons/".concat(e.id),children:Object(s.jsxs)("button",{type:"button",className:"button"+e.gender,children:[e.firstName," ",e.lastName]})})})}))]})]})},x=(n.p,n(2)),v=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Welcome to Baskisla!"}),Object(s.jsx)("p",{children:"Baskisla is a project to connect to your roots."}),Object(s.jsx)(u.b,{to:"/persons",children:"Click here to go to the person"})]})},g=function(){return Object(s.jsx)("div",{children:"About page!"})},y=function(){return Object(s.jsx)("div",{children:"404 Page not found"})},S=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={persons:[]},e}return Object(j.a)(n,[{key:"downloadObjectAsJson",value:function(e,t){var n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),s=document.createElement("a");s.setAttribute("href",n),s.setAttribute("download",t+".json"),document.body.appendChild(s),s.click(),s.remove()}},{key:"componentDidMount",value:function(){var e=this;fetch("https://baskislaapi20201113123205.azurewebsites.net/api/person").then((function(e){return e.json()})).then((function(t){e.setState({persons:t})}))}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(u.a,{basename:"/first-react-app",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)(u.b,{to:"/home",children:"Home "}),Object(s.jsx)(u.b,{to:"/about",children:"About "}),Object(s.jsx)(u.b,{to:"/persons",children:"Persons "})]}),Object(s.jsxs)("div",{children:["There are ",this.state.persons.length," people in the list."]}),Object(s.jsxs)(x.d,{children:[Object(s.jsx)(x.b,{exact:!0,path:"/",children:Object(s.jsx)(x.a,{to:"/home"})}),Object(s.jsx)(x.b,{path:"/home",component:v}),Object(s.jsx)(x.b,{path:"/about",component:g}),Object(s.jsx)(x.b,{exact:!0,path:"/persons",children:Object(s.jsx)(f,{persons:this.state.persons})}),Object(s.jsx)(x.b,{path:"/persons/:id",component:m}),Object(s.jsx)(x.b,{component:y})]})]})})}}]),n}(c.a.Component),N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),s(e),r(e),c(e),a(e)}))};i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(S,{})}),document.getElementById("root")),N()}},[[41,1,2]]]);
//# sourceMappingURL=main.30f2ab80.chunk.js.map