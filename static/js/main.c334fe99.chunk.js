(this.webpackJsonpbaskisla=this.webpackJsonpbaskisla||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(1),a=n.n(r),c=n(11),i=n.n(c),o=(n(29),n(12)),j=n(13),h=n(15),d=n(14),l=(n(30),n(8)),b=n(6),u=(n(31),n(19)),p=function(e){var t=e.id,n=a.a.useState(""),r=Object(l.a)(n,2),c=r[0],i=r[1],o=a.a.useState(""),j=Object(l.a)(o,2),h=j[0],d=j[1],u=a.a.useState(!0),p=Object(l.a)(u,2),O=p[0],m=p[1];return a.a.useEffect((function(){fetch("https://baskislaapi20201113123205.azurewebsites.net/api/person/".concat(t)).then((function(e){return e.json()})).then((function(e){i(e.firstName),d(e.gender),m(!1)}))}),[t]),Object(s.jsx)("div",{children:O?Object(s.jsx)("div",{children:"loading..."}):Object(s.jsx)(b.b,{to:"/persons/".concat(t),children:Object(s.jsx)("button",{type:"button",className:"button"+h,children:c})})})},O=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={gender:""},s}return Object(j.a)(n,[{key:"handleSubmit",value:function(e){console.log(e);e.target,this.props,this.gender;e.preventDefault();var t=new FormData(e.target);console.log(t),fetch("fakeurl:3000/api/person/",{method:"POST",body:t}).then((function(e){return console.log(e)})).catch((function(e){return alert("Error while creating new person. Details:"+e.message+"The data was: "+t)})),this.props.setOpen(!1)}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{onClick:function(){return e.props.setOpen(!0)},children:this.props.addFather?Object(s.jsx)("div",{children:"Add father"}):Object(s.jsx)("div",{children:"Add mother"})}),Object(s.jsxs)(u.a,{open:this.props.open,onClose:function(){return e.props.setOpen(!1)},children:[Object(s.jsxs)("h1",{children:["Add a ",this.props.id," of ",this.props.details.firstName]}),Object(s.jsxs)("form",{onSubmit:function(t){e.handleSubmit(t)},children:[Object(s.jsx)("input",{type:"text",id:"firstName",name:"firstName",placeholder:"Enter first name",required:!0}),Object(s.jsx)("input",{type:"text",id:"lastName",name:"lastName",placeholder:"Enter last name",required:!0}),Object(s.jsx)("button",{type:"submit",children:"Submit"})]})]})]})}}]),n}(a.a.Component),m=function(e){var t=e.match,n=a.a.useState({}),r=Object(l.a)(n,2),c=r[0],i=r[1],o=a.a.useState(!0),j=Object(l.a)(o,2),h=j[0],d=j[1],b=a.a.useState(!1),u=Object(l.a)(b,2),m=u[0],f=u[1],x=a.a.useState(!1),g=Object(l.a)(x,2),v=g[0],y=g[1];return a.a.useEffect((function(){d(!0),fetch("https://baskislaapi20201113123205.azurewebsites.net/api/person/".concat(t.params.id,"/details")).then((function(e){return e.json()})).then((function(e){i(e),d(!1)}))}),[t.params.id]),Object(s.jsx)(s.Fragment,{children:h||null==c.id?Object(s.jsx)("h1",{children:"Loading.."}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("h1",{children:["Person Details of ",c.firstName," ",c.lastName]}),Object(s.jsx)("h2",{children:"Parents "}),null!=c.father&&0!=c.father?Object(s.jsx)(p,{id:c.father}):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(O,{id:"father",details:c,open:m,setOpen:f,addFather:!0})}),null!=c.mother&&0!=c.mother?Object(s.jsx)(p,{id:c.mother}):Object(s.jsx)(O,{id:"mother",details:c,open:v,setOpen:y,addFather:!1}),0!=c.spouse?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h2",{children:"Spouse"}),Object(s.jsx)(p,{id:c.spouse})]}):Object(s.jsx)(s.Fragment,{}),Object(s.jsx)("h2",{children:"Siblings"}),c.siblings.map((function(e){return Object(s.jsx)(p,{id:e})})),Object(s.jsx)("h2",{children:"Children"}),c.children.map((function(e){return Object(s.jsx)(p,{id:e})}))]})})},f=function(e){var t=e.persons,n=a.a.useState({searchTerm:""}),r=Object(l.a)(n,2),c=r[0],i=r[1];function o(){return void 0==c.searchTerm?t:t.filter((function(e){return(e.firstName?e.firstName:"").toLowerCase().includes(c.searchTerm.toLowerCase())||(e.lastName?e.lastName:"").toLowerCase().includes(c.searchTerm.toLowerCase())}))}return Object(s.jsxs)("div",{children:[Object(s.jsx)("center",{children:Object(s.jsx)("h1",{children:"Person List"})}),Object(s.jsx)("input",{type:"text",value:c.searchTerm,onChange:function(e){i({searchTerm:e.target.value})},placeholder:"Enter a name here"}),Object(s.jsxs)(s.Fragment,{children:[""==c.searchTerm?Object(s.jsx)("div",{}):Object(s.jsxs)("div",{children:["There are ",o().length," people in the search results"]}),o().map((function(e){return Object(s.jsx)("div",{children:Object(s.jsx)(b.b,{to:"/persons/".concat(e.id),children:Object(s.jsxs)("button",{type:"button",className:"button"+e.gender,children:[e.firstName," ",e.lastName]})})})}))]})]})},x=(n.p,n(2)),g=n.p+"static/media/97558822_566966043805262_5387835958973392540_n.e8be47aa.jpg",v=function(){return Object(s.jsxs)("div",{style:{alignItems:"right"},children:[Object(s.jsx)("h3",{children:"Welcome to Baskisla!"}),Object(s.jsx)(b.b,{to:"/persons",children:"Continue"}),Object(s.jsx)("p",{style:{width:"90%",padding:"5%"},children:"Baskisla is a project to connect to your roots. It is developed as a way of visualizing the familiar relations between people. The idea was conceived by Hasan Kurt, and is very much in progress. Keep checking this site to keep in touch with the latest developments!"}),Object(s.jsx)("img",{src:g,style:{width:"80%",maxWidth:"800px"}})]})},y=function(){return Object(s.jsx)("div",{children:"About page!"})},w=function(){return Object(s.jsx)("div",{children:"404 Page not found"})},k=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={persons:[]},e}return Object(j.a)(n,[{key:"downloadObjectAsJson",value:function(e,t){var n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),s=document.createElement("a");s.setAttribute("href",n),s.setAttribute("download",t+".json"),document.body.appendChild(s),s.click(),s.remove()}},{key:"componentDidMount",value:function(){var e=this;fetch("https://baskislaapi20201113123205.azurewebsites.net/api/person").then((function(e){return e.json()})).then((function(t){e.setState({persons:t})}))}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"App",style:{alignItems:"center"},children:Object(s.jsxs)(b.a,{basename:"/Baskisla",children:[Object(s.jsxs)("div",{style:{alignItems:"center"},children:[Object(s.jsx)(b.b,{to:"/home",children:"Home "}),Object(s.jsx)(b.b,{to:"/about",children:"About "}),Object(s.jsx)(b.b,{to:"/persons",children:"Persons "})]}),Object(s.jsxs)("div",{children:["There are ",this.state.persons.length," people in the list."]}),Object(s.jsxs)(x.d,{children:[Object(s.jsx)(x.b,{exact:!0,path:"/",children:Object(s.jsx)(x.a,{to:"/home"})}),Object(s.jsx)(x.b,{path:"/home",component:v}),Object(s.jsx)(x.b,{path:"/about",component:y}),Object(s.jsx)(x.b,{exact:!0,path:"/persons",children:Object(s.jsx)(f,{persons:this.state.persons})}),Object(s.jsx)(x.b,{path:"/persons/:id",component:m}),Object(s.jsx)(x.b,{component:w})]})]})})}}]),n}(a.a.Component),S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),a(e),c(e)}))};i.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(k,{})}),document.getElementById("root")),S()}},[[41,1,2]]]);
//# sourceMappingURL=main.c334fe99.chunk.js.map